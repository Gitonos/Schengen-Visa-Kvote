
<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schengen Visum Kvoteberegner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --body-gradient-start: #ff0000;
            --body-gradient-end: #800080;
            --panel-gradient-start: rgba(255, 255, 255, 0.2);
            --panel-gradient-end: rgba(255, 255, 255, 0.4);
        }
        
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            position: relative;
            background: linear-gradient(135deg, var(--body-gradient-start), var(--body-gradient-end));
            background-size: 200% 200%;
            animation: body-gradient-animate 20s ease-in-out infinite;
        }

        /* Animerer bakgrunnsgradienten */
        @keyframes body-gradient-animate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Abstrakt linjebakgrunn animasjon */
        @keyframes abstract-lines {
            0% { background-position: 0 0; }
            100% { background-position: 100% 100%; }
        }
        .abstract-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.5;
            background-image: linear-gradient(to right, rgba(255,0,0,0.5) 1px, transparent 1px), 
                              linear-gradient(to bottom, rgba(128,0,128,0.5) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: abstract-lines 40s linear infinite;
        }

        /* Bakgrunnspanel med animert gradient og opasitet */
        @keyframes panel-gradient-animate {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
        }
        
        .panel-animate {
            background-image: linear-gradient(135deg, var(--panel-gradient-start), var(--panel-gradient-end));
            background-size: 200% 200%;
            animation: panel-gradient-animate 15s ease-in-out infinite alternate;
        }

        /* Knapp med boble animasjon */
        @keyframes bubble {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(100, 220, 100, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(100, 220, 100, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(100, 220, 100, 0);
            }
        }

        .animate-bubble-effect {
            animation: bubble 2s infinite;
        }

        /* Overganger for jevnere effekter */
        .transition-all-slow {
            transition: all 0.7s ease-in-out;
        }

        /* Egendefinert styling for å forbedre utseendet på inndatafelter og valgbokser */
        input:focus, select:focus {
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.5);
            outline: none;
        }

    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    
    <!-- Abstrakt linjebakgrunn -->
    <div class="abstract-background"></div>

    <div class="rounded-xl shadow-lg p-6 max-w-sm w-full relative z-10 panel-animate">
        <h1 class="text-3xl font-bold text-gray-800 mb-2 text-center">Schengen Kvote Barometer</h1>
        <p class="text-sm text-gray-500 mb-6 text-center">Beregne visumkvoten din og visualiser reisedagene dine.</p>

        <!-- Inndatafeltene for reisedatoer -->
        <div class="grid grid-cols-1 gap-4 mb-6">
            <div>
                <label for="entryDate" class="block text-sm font-medium text-gray-700 mb-1">Innreisedato</label>
                <input type="date" id="entryDate" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border transition-all-slow">
            </div>
            <div>
                <label for="exitDate" class="block text-sm font-medium text-gray-700 mb-1">Hjemreisedato</label>
                <input type="date" id="exitDate" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border transition-all-slow">
            </div>
        </div>
        
        <!-- Landvelger -->
        <div class="mb-6">
            <label for="country" class="block text-sm font-medium text-gray-700 mb-1">Velg et Schengen-land</label>
            <select id="country" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border transition-all-slow">
                <!-- Populeres av JS -->
            </select>
        </div>

        <button id="calculateBtn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-200 animate-bubble-effect">
            Beregn dager
        </button>

        <div id="results" class="mt-6 hidden">
            <!-- Meldinger for feil eller suksess -->
            <div id="message" class="mb-4 p-3 rounded-lg text-center font-medium transition-all-slow"></div>

            <div class="grid grid-cols-1 gap-4 text-center">
                <div>
                    <p class="text-xs text-gray-500">Dager brukt</p>
                    <p id="daysUsed" class="text-3xl font-bold text-gray-800 transition-all-slow"></p>
                </div>
                <div>
                    <p class="text-xs text-gray-500">Dager igjen</p>
                    <p id="daysRemaining" class="text-3xl font-bold text-gray-800 transition-all-slow"></p>
                </div>
                <div>
                    <p class="text-xs text-gray-500">Syklus per uke</p>
                    <p id="weeklyCycle" class="text-3xl font-bold text-gray-800 transition-all-slow"></p>
                </div>
            </div>

            <!-- Kvote barometer -->
            <div class="mt-6">
                <p class="text-sm font-medium text-gray-700 mb-2">Visuell kvote</p>
                <div class="w-full bg-gray-200 rounded-full h-4 relative">
                    <div id="quotaBar" class="h-4 bg-green-500 rounded-full transition-all-slow" style="width: 0%;"></div>
                    <span id="quotaPercentage" class="absolute top-0 right-2 text-xs font-bold text-gray-800 leading-4 transition-all-slow">0%</span>
                </div>
            </div>

            <!-- Tidslinje for reise -->
            <div class="mt-6">
                <p class="text-sm font-medium text-gray-700 mb-2">Reisetidslinje</p>
                <div id="timelineContainer" class="w-full h-8 bg-gray-200 rounded-full flex items-center p-1 relative">
                    <div id="timelineSegment" class="bg-green-500 rounded-full h-6 transition-all-slow"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const entryDateInput = document.getElementById('entryDate');
            const exitDateInput = document.getElementById('exitDate');
            const countrySelect = document.getElementById('country');
            const calculateBtn = document.getElementById('calculateBtn');
            const resultsDiv = document.getElementById('results');
            const messageDiv = document.getElementById('message');
            const daysUsedSpan = document.getElementById('daysUsed');
            const daysRemainingSpan = document.getElementById('daysRemaining');
            const weeklyCycleSpan = document.getElementById('weeklyCycle');
            const quotaBar = document.getElementById('quotaBar');
            const quotaPercentage = document.getElementById('quotaPercentage');
            const timelineSegment = document.getElementById('timelineSegment');

            const schengenCountries = [
                'Østerrike', 'Belgia', 'Kroatia', 'Tsjekkia', 'Danmark', 'Estland', 'Finland', 'Frankrike', 'Tyskland',
                'Hellas', 'Ungarn', 'Island', 'Italia', 'Latvia', 'Liechtenstein', 'Litauen', 'Luxembourg',
                'Malta', 'Nederland', 'Norge', 'Polen', 'Portugal', 'Slovakia', 'Slovenia', 'Spania',
                'Sverige', 'Sveits'
            ];
            
            schengenCountries.forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                countrySelect.appendChild(option);
            });

            calculateBtn.addEventListener('click', () => {
                const entryDate = new Date(entryDateInput.value);
                const exitDate = new Date(exitDateInput.value);

                if (isNaN(entryDate.getTime()) || isNaN(exitDate.getTime())) {
                    showMessage("Vennligst fyll ut begge datoene.", "bg-red-100 text-red-700");
                    return;
                }

                if (exitDate <= entryDate) {
                    showMessage("Hjemreisedato må være etter innreisedato.", "bg-red-100 text-red-700");
                    return;
                }

                resultsDiv.classList.remove('hidden');

                const oneDay = 1000 * 60 * 60 * 24;
                const timeDifference = exitDate.getTime() - entryDate.getTime();
                const daysUsed = Math.ceil(timeDifference / oneDay);
                const totalDays = 90;
                const daysRemaining = totalDays - daysUsed;
                
                const quotaPercentageValue = (daysUsed / totalDays) * 100;
                const weeklyCycle = (daysUsed / totalDays) * 7;

                daysUsedSpan.textContent = daysUsed;
                daysRemainingSpan.textContent = daysRemaining < 0 ? 0 : daysRemaining;
                weeklyCycleSpan.textContent = weeklyCycle.toFixed(2);

                quotaBar.style.width = `${Math.min(100, quotaPercentageValue)}%`;
                quotaPercentage.textContent = `${Math.min(100, quotaPercentageValue).toFixed(0)}%`;
                
                if (quotaPercentageValue > 90) {
                    quotaBar.classList.remove('bg-green-500', 'bg-yellow-500');
                    quotaBar.classList.add('bg-red-500');
                } else if (quotaPercentageValue > 70) {
                    quotaBar.classList.remove('bg-green-500', 'bg-red-500');
                    quotaBar.classList.add('bg-yellow-500');
                } else {
                    quotaBar.classList.remove('bg-yellow-500', 'bg-red-500');
                    quotaBar.classList.add('bg-green-500');
                }

                timelineSegment.style.width = `${Math.min(100, quotaPercentageValue)}%`;
                
                showMessage("Beregning fullført.", "bg-green-100 text-green-700");
            });

            function showMessage(text, classes) {
                messageDiv.textContent = text;
                messageDiv.className = `mb-4 p-3 rounded-lg text-center font-medium ${classes}`;
            }

            function getRandomColor() {
                const letters = '0123456789ABCDEF';
                let color = '#';
                for (let i = 0; i < 6; i++) {
                    color += letters[Math.floor(Math.random() * 16)];
                }
                return color;
            }

            function setRandomGradients() {
                const bodyGradientStart = getRandomColor();
                const bodyGradientEnd = getRandomColor();
                const panelGradientStart = `rgba(${parseInt(getRandomColor().slice(1, 3), 16)}, ${parseInt(getRandomColor().slice(3, 5), 16)}, ${parseInt(getRandomColor().slice(5, 7), 16)}, 0.2)`;
                const panelGradientEnd = `rgba(${parseInt(getRandomColor().slice(1, 3), 16)}, ${parseInt(getRandomColor().slice(3, 5), 16)}, ${parseInt(getRandomColor().slice(5, 7), 16)}, 0.4)`;

                document.documentElement.style.setProperty('--body-gradient-start', bodyGradientStart);
                document.documentElement.style.setProperty('--body-gradient-end', bodyGradientEnd);
                document.documentElement.style.setProperty('--panel-gradient-start', panelGradientStart);
                document.documentElement.style.setProperty('--panel-gradient-end', panelGradientEnd);
            }

            setRandomGradients();
            setInterval(setRandomGradients, 20000); // Oppdater farger hvert 20. sekund
        });
    </script>
</body>
</html>





